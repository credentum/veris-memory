# Context Store Environment Configuration
# Copy this file to .env and update with your values

# Database Connections (public configuration)
QDRANT_URL=http://localhost:6333
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
REDIS_URL=redis://localhost:6379

# Server Configuration
MCP_SERVER_PORT=8000
LOG_LEVEL=info

# Sprint 13: API Key Authentication
# Enable/disable API key authentication
AUTH_REQUIRED=true

# Environment mode (development allows default test key)
ENVIRONMENT=development

# API Key for MCP Server
# Format: vmk_{prefix}_{random}:user_id:role:is_agent
# Roles: admin, writer, reader, guest
# is_agent: true (AI agent) or false (human user)
# Example: API_KEY_MCP=vmk_mcp_d9ef8d8699ca748e5a484c5026ecdc2a:mcp_server:writer:true

# SECURITY NOTE:
# Do NOT put sensitive passwords or API keys here!
# Use systemd credentials or .env.local (gitignored) for secrets
#
# For systemd deployment:
# 1. Create secure credential file: /opt/context-store/credentials/neo4j_password
# 2. Set restrictive permissions: chmod 600 /opt/context-store/credentials/neo4j_password
# 3. Password will be available as $CREDENTIALS_DIRECTORY/neo4j_password in the service
#
# For local development:
# 1. Create .env.local (gitignored)
# 2. Add: NEO4J_PASSWORD=your_password_here
# 3. Add: API_KEY_MCP=vmk_mcp_xxx:mcp_server:writer:true

# PR #170: Cache and Embedding Configuration
# Cache TTL in seconds (default: 300 = 5 minutes)
# Increase for stable data (900=15min, 3600=1hr), decrease for real-time data (60-180s)
VERIS_CACHE_TTL_SECONDS=300

# Embedding failure behavior (default: false = graceful degradation)
# true = fail fast (return error if embeddings unavailable)
# false = graceful degradation (store context without vector if embeddings fail)
STRICT_EMBEDDINGS=false

# Embedding vector dimensions (default: 768 for all-mpnet-base-v2)
# Common values: 384 (all-MiniLM-L6-v2), 768 (all-mpnet-base-v2), 1024 (large models)
EMBEDDING_DIM=768