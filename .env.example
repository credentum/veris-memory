# Context Store Environment Configuration
# Copy this file to .env and update with your values

# Database Connections (public configuration)
QDRANT_URL=http://localhost:6333
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
REDIS_URL=redis://localhost:6379

# Server Configuration
MCP_SERVER_PORT=8000
LOG_LEVEL=info

# Sprint 13: API Key Authentication
# Enable/disable API key authentication
AUTH_REQUIRED=true

# Environment mode (development allows default test key)
ENVIRONMENT=development

# API Key for MCP Server
# Format: vmk_{prefix}_{random}:user_id:role:is_agent
# Roles: admin, writer, reader, guest
# is_agent: true (AI agent) or false (human user)
# Example: API_KEY_MCP=vmk_mcp_d9ef8d8699ca748e5a484c5026ecdc2a:mcp_server:writer:true

# SECURITY NOTE:
# Do NOT put sensitive passwords or API keys here!
# Use systemd credentials or .env.local (gitignored) for secrets
#
# For systemd deployment:
# 1. Create secure credential file: /opt/context-store/credentials/neo4j_password
# 2. Set restrictive permissions: chmod 600 /opt/context-store/credentials/neo4j_password
# 3. Password will be available as $CREDENTIALS_DIRECTORY/neo4j_password in the service
#
# For local development:
# 1. Create .env.local (gitignored)
# 2. Add: NEO4J_PASSWORD=your_password_here
# 3. Add: API_KEY_MCP=vmk_mcp_xxx:mcp_server:writer:true

# =============================================================================
# TeamAI Voice Platform Configuration
# =============================================================================

# LiveKit Voice Server Configuration
# Get credentials from LiveKit Cloud (https://cloud.livekit.io)
# or self-host LiveKit server
LIVEKIT_API_KEY=APIxxxxxxxxxxxxx
LIVEKIT_API_SECRET=secretxxxxxxxxxxxxx
LIVEKIT_WEBHOOK_URLS=

# Voice Bot - API Key for MCP Server Access (Sprint 13)
# Format: vmk_voicebot_{random}:voice_bot:writer:true
# Example: API_KEY_VOICEBOT=vmk_voicebot_a1b2c3d4:voice_bot:writer:true
# Generate with: openssl rand -hex 16
API_KEY_VOICEBOT=vmk_voicebot_CHANGE_ME:voice_bot:writer:true

# Voice Bot - Author Attribution (Sprint 13)
# Prefix for author field in stored contexts (author will be: {prefix}_{user_id})
# Default: voice_bot (results in authors like: voice_bot_alice, voice_bot_bob)
VOICE_BOT_AUTHOR_PREFIX=voice_bot

# Voice Bot - Retry Logic (Sprint 13)
# Enable retry with exponential backoff for improved reliability
# PR #3 showed retry reduces error rate from 98% to <5%
ENABLE_MCP_RETRY=true
MCP_RETRY_ATTEMPTS=3

# Speech-to-Text Provider Configuration
# Options: deepgram, whisper, google
STT_PROVIDER=deepgram
STT_API_KEY=

# Text-to-Speech Provider Configuration
# Options: elevenlabs, google, azure
TTS_PROVIDER=elevenlabs
TTS_API_KEY=

# Voice Bot Feature Flags
ENABLE_VOICE_COMMANDS=true
ENABLE_FACT_STORAGE=true
ENABLE_CONVERSATION_TRACE=true

# Voice Bot Service Configuration
# LOG_LEVEL is inherited from main configuration above