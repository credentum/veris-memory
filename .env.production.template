# Veris Memory Production Environment Configuration
# Copy this file to .env.production and fill in the actual values

# === Core Database Configuration ===
NEO4J_PASSWORD=your_secure_neo4j_password_here

# === Monitoring & Analytics Security ===
ANALYTICS_AUTH_TOKEN=your_secure_analytics_token_here

# === Production Performance Settings ===
# Monitoring
MONITORING_ENABLED=true
METRICS_COLLECTION_INTERVAL=30
ANALYTICS_RATE_LIMIT_PER_MIN=5
DASHBOARD_RATE_LIMIT_PER_MIN=20

# Security
ENABLE_CORS=false
TRUSTED_HOSTS=127.0.0.1,localhost,135.181.4.118
DASHBOARD_AUTH_REQUIRED=true

# Performance Optimization for 64GB Hetzner System
QDRANT_MEMORY_LIMIT=8GB
NEO4J_HEAP_SIZE=4G
REDIS_MEMORY_LIMIT=2GB

# Logging
LOG_LEVEL=info
STRUCTURED_LOGGING=true

# === Optional: External Monitoring Integration ===
# Prometheus metrics endpoint (if using external monitoring)
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Health check intervals (seconds)
HEALTH_CHECK_INTERVAL=30
METRICS_RETENTION_DAYS=7

# === Production Deployment Info ===
ENVIRONMENT=production
DEPLOYMENT_DATE=$(date -u +%Y-%m-%dT%H:%M:%SZ)
GIT_COMMIT=$(git rev-parse HEAD 2>/dev/null || echo "unknown")

# === Firewall Configuration Hints ===
# Required open ports:
# - 22 (SSH)
# - 8001 (Veris API - localhost only) 
# - 8080 (Monitoring Dashboard - localhost only)
# - 2222 (Claude CLI dev - optional)
#
# UFW Rules to add:
# sudo ufw allow 22/tcp
# sudo ufw allow from 127.0.0.1 to any port 8001
# sudo ufw allow from 127.0.0.1 to any port 8080
# sudo ufw enable